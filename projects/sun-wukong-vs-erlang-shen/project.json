{
  "targets": [
    {
      "isStage": true,
      "name": "Stage",
      "variables": {
        "sunwukong_hp": ["孙悟空生命值", 100],
        "erlang_hp": ["二郎神生命值", 100],
        "game_state": ["游戏状态", "playing"],
        "winner": ["获胜者", ""]
      },
      "lists": {},
      "broadcasts": {
        "attack_sunwukong": "孙悟空攻击",
        "attack_erlang": "二郎神攻击",
        "game_over": "游戏结束",
        "game_start": "游戏开始"
      },
      "blocks": {
        "stage_green_flag": {
          "opcode": "event_whenflagclicked",
          "next": "stage_init",
          "parent": null,
          "inputs": {},
          "fields": {},
          "shadow": false,
          "topLevel": true,
          "x": 50,
          "y": 50
        },
        "stage_init": {
          "opcode": "data_setvariableto",
          "next": "stage_init_2",
          "parent": "stage_green_flag",
          "inputs": {
            "VALUE": [1, [10, "100"]]
          },
          "fields": {
            "VARIABLE": ["孙悟空生命值", "sunwukong_hp"]
          },
          "shadow": false,
          "topLevel": false
        },
        "stage_init_2": {
          "opcode": "data_setvariableto",
          "next": "stage_init_3",
          "parent": "stage_init",
          "inputs": {
            "VALUE": [1, [10, "100"]]
          },
          "fields": {
            "VARIABLE": ["二郎神生命值", "erlang_hp"]
          },
          "shadow": false,
          "topLevel": false
        },
        "stage_init_3": {
          "opcode": "data_setvariableto",
          "next": "stage_broadcast_start",
          "parent": "stage_init_2",
          "inputs": {
            "VALUE": [1, [10, "playing"]]
          },
          "fields": {
            "VARIABLE": ["游戏状态", "game_state"]
          },
          "shadow": false,
          "topLevel": false
        },
        "stage_broadcast_start": {
          "opcode": "event_broadcast",
          "next": null,
          "parent": "stage_init_3",
          "inputs": {
            "BROADCAST_INPUT": [1, [11, "游戏开始", "game_start"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        }
      },
      "comments": {},
      "currentCostume": 0,
      "costumes": [
        {
          "name": "天宫战场",
          "dataFormat": "svg",
          "assetId": "cd21514d0531fdffb22204e0ec5ed84a",
          "md5ext": "cd21514d0531fdffb22204e0ec5ed84a.svg",
          "rotationCenterX": 240,
          "rotationCenterY": 180
        }
      ],
      "sounds": [],
      "volume": 100,
      "layerOrder": 0,
      "tempo": 60,
      "videoTransparency": 50,
      "videoState": "off",
      "textToSpeechLanguage": "zh-cn"
    },
    {
      "isStage": false,
      "name": "孙悟空",
      "variables": {},
      "lists": {},
      "broadcasts": {},
      "blocks": {
        "sunwukong_green_flag": {
          "opcode": "event_whenflagclicked",
          "next": "sunwukong_goto",
          "parent": null,
          "inputs": {},
          "fields": {},
          "shadow": false,
          "topLevel": true,
          "x": 50,
          "y": 50
        },
        "sunwukong_goto": {
          "opcode": "motion_gotoxy",
          "next": "sunwukong_show",
          "parent": "sunwukong_green_flag",
          "inputs": {
            "X": [1, [4, "-120"]],
            "Y": [1, [4, "0"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_show": {
          "opcode": "looks_show",
          "next": "sunwukong_setsize",
          "parent": "sunwukong_goto",
          "inputs": {},
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_setsize": {
          "opcode": "looks_setsizeto",
          "next": null,
          "parent": "sunwukong_show",
          "inputs": {
            "SIZE": [1, [4, "80"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_key_space": {
          "opcode": "event_whenkeypressed",
          "next": "sunwukong_check_state",
          "parent": null,
          "inputs": {},
          "fields": {
            "KEY_OPTION": ["space", null]
          },
          "shadow": false,
          "topLevel": true,
          "x": 50,
          "y": 250
        },
        "sunwukong_check_state": {
          "opcode": "control_if",
          "next": null,
          "parent": "sunwukong_key_space",
          "inputs": {
            "CONDITION": [2, "sunwukong_state_equals"],
            "SUBSTACK": [2, "sunwukong_attack_costume"]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_state_equals": {
          "opcode": "operator_equals",
          "next": null,
          "parent": "sunwukong_check_state",
          "inputs": {
            "OPERAND1": [3, "sunwukong_get_state", [10, ""]],
            "OPERAND2": [1, [10, "playing"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_get_state": {
          "opcode": "data_variable",
          "next": null,
          "parent": "sunwukong_state_equals",
          "inputs": {},
          "fields": {
            "VARIABLE": ["游戏状态", "game_state"]
          },
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_attack_costume": {
          "opcode": "looks_switchcostumeto",
          "next": "sunwukong_attack_say",
          "parent": "sunwukong_check_state",
          "inputs": {
            "COSTUME": [1, [10, "孙悟空-攻击"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_attack_say": {
          "opcode": "looks_sayforsecs",
          "next": "sunwukong_broadcast_attack",
          "parent": "sunwukong_attack_costume",
          "inputs": {
            "MESSAGE": [1, [10, "吃俺老孙一棒！"]],
            "SECS": [1, [4, "0.5"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_broadcast_attack": {
          "opcode": "event_broadcast",
          "next": "sunwukong_wait_attack",
          "parent": "sunwukong_attack_say",
          "inputs": {
            "BROADCAST_INPUT": [1, [11, "孙悟空攻击", "attack_sunwukong"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_wait_attack": {
          "opcode": "control_wait",
          "next": "sunwukong_reset_costume",
          "parent": "sunwukong_broadcast_attack",
          "inputs": {
            "DURATION": [1, [5, "0.3"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_reset_costume": {
          "opcode": "looks_switchcostumeto",
          "next": null,
          "parent": "sunwukong_wait_attack",
          "inputs": {
            "COSTUME": [1, [10, "孙悟空-站立"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_receive_attack": {
          "opcode": "event_whenbroadcastreceived",
          "next": "sunwukong_hit_effect",
          "parent": null,
          "inputs": {},
          "fields": {
            "BROADCAST_OPTION": ["二郎神攻击", "attack_erlang"]
          },
          "shadow": false,
          "topLevel": true,
          "x": 50,
          "y": 450
        },
        "sunwukong_hit_effect": {
          "opcode": "looks_changeeffectby",
          "next": "sunwukong_change_hp",
          "parent": "sunwukong_receive_attack",
          "inputs": {
            "CHANGE": [1, [4, "25"]]
          },
          "fields": {
            "EFFECT": ["COLOR", null]
          },
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_change_hp": {
          "opcode": "data_changevariableby",
          "next": "sunwukong_wait_hit",
          "parent": "sunwukong_hit_effect",
          "inputs": {
            "VALUE": [1, [4, "-10"]]
          },
          "fields": {
            "VARIABLE": ["孙悟空生命值", "sunwukong_hp"]
          },
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_wait_hit": {
          "opcode": "control_wait",
          "next": "sunwukong_clear_effect",
          "parent": "sunwukong_change_hp",
          "inputs": {
            "DURATION": [1, [5, "0.2"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_clear_effect": {
          "opcode": "looks_cleargraphiceffects",
          "next": "sunwukong_check_hp",
          "parent": "sunwukong_wait_hit",
          "inputs": {},
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_check_hp": {
          "opcode": "control_if",
          "next": null,
          "parent": "sunwukong_clear_effect",
          "inputs": {
            "CONDITION": [2, "sunwukong_hp_lessthan"],
            "SUBSTACK": [2, "sunwukong_lose"]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_hp_lessthan": {
          "opcode": "operator_lt",
          "next": null,
          "parent": "sunwukong_check_hp",
          "inputs": {
            "OPERAND1": [3, "sunwukong_get_hp", [10, ""]],
            "OPERAND2": [1, [10, "1"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_get_hp": {
          "opcode": "data_variable",
          "next": null,
          "parent": "sunwukong_hp_lessthan",
          "inputs": {},
          "fields": {
            "VARIABLE": ["孙悟空生命值", "sunwukong_hp"]
          },
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_lose": {
          "opcode": "data_setvariableto",
          "next": "sunwukong_set_winner",
          "parent": "sunwukong_check_hp",
          "inputs": {
            "VALUE": [1, [10, "ended"]]
          },
          "fields": {
            "VARIABLE": ["游戏状态", "game_state"]
          },
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_set_winner": {
          "opcode": "data_setvariableto",
          "next": "sunwukong_say_lose",
          "parent": "sunwukong_lose",
          "inputs": {
            "VALUE": [1, [10, "二郎神"]]
          },
          "fields": {
            "VARIABLE": ["获胜者", "winner"]
          },
          "shadow": false,
          "topLevel": false
        },
        "sunwukong_say_lose": {
          "opcode": "looks_say",
          "next": null,
          "parent": "sunwukong_set_winner",
          "inputs": {
            "MESSAGE": [1, [10, "可恶！我输了..."]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        }
      },
      "comments": {},
      "currentCostume": 0,
      "costumes": [
        {
          "name": "孙悟空-站立",
          "dataFormat": "svg",
          "assetId": "b7853f557e4426412e64bb3da6531a99",
          "md5ext": "b7853f557e4426412e64bb3da6531a99.svg",
          "rotationCenterX": 48,
          "rotationCenterY": 50
        },
        {
          "name": "孙悟空-攻击",
          "dataFormat": "svg",
          "assetId": "e6ddc55a6ddd9cc9d84c0606b6a1a4e3",
          "md5ext": "e6ddc55a6ddd9cc9d84c0606b6a1a4e3.svg",
          "rotationCenterX": 48,
          "rotationCenterY": 50
        }
      ],
      "sounds": [],
      "volume": 100,
      "layerOrder": 1,
      "visible": true,
      "x": -120,
      "y": 0,
      "size": 80,
      "direction": 90,
      "draggable": false,
      "rotationStyle": "all around"
    },
    {
      "isStage": false,
      "name": "二郎神",
      "variables": {},
      "lists": {},
      "broadcasts": {},
      "blocks": {
        "erlang_green_flag": {
          "opcode": "event_whenflagclicked",
          "next": "erlang_goto",
          "parent": null,
          "inputs": {},
          "fields": {},
          "shadow": false,
          "topLevel": true,
          "x": 50,
          "y": 50
        },
        "erlang_goto": {
          "opcode": "motion_gotoxy",
          "next": "erlang_show",
          "parent": "erlang_green_flag",
          "inputs": {
            "X": [1, [4, "120"]],
            "Y": [1, [4, "0"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "erlang_show": {
          "opcode": "looks_show",
          "next": "erlang_setsize",
          "parent": "erlang_goto",
          "inputs": {},
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "erlang_setsize": {
          "opcode": "looks_setsizeto",
          "next": "erlang_point",
          "parent": "erlang_show",
          "inputs": {
            "SIZE": [1, [4, "80"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "erlang_point": {
          "opcode": "motion_pointindirection",
          "next": null,
          "parent": "erlang_setsize",
          "inputs": {
            "DIRECTION": [1, [8, "-90"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "erlang_key_enter": {
          "opcode": "event_whenkeypressed",
          "next": "erlang_check_state",
          "parent": null,
          "inputs": {},
          "fields": {
            "KEY_OPTION": ["enter", null]
          },
          "shadow": false,
          "topLevel": true,
          "x": 50,
          "y": 250
        },
        "erlang_check_state": {
          "opcode": "control_if",
          "next": null,
          "parent": "erlang_key_enter",
          "inputs": {
            "CONDITION": [2, "erlang_state_equals"],
            "SUBSTACK": [2, "erlang_attack_costume"]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "erlang_state_equals": {
          "opcode": "operator_equals",
          "next": null,
          "parent": "erlang_check_state",
          "inputs": {
            "OPERAND1": [3, "erlang_get_state", [10, ""]],
            "OPERAND2": [1, [10, "playing"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "erlang_get_state": {
          "opcode": "data_variable",
          "next": null,
          "parent": "erlang_state_equals",
          "inputs": {},
          "fields": {
            "VARIABLE": ["游戏状态", "game_state"]
          },
          "shadow": false,
          "topLevel": false
        },
        "erlang_attack_costume": {
          "opcode": "looks_switchcostumeto",
          "next": "erlang_attack_say",
          "parent": "erlang_check_state",
          "inputs": {
            "COSTUME": [1, [10, "二郎神-攻击"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "erlang_attack_say": {
          "opcode": "looks_sayforsecs",
          "next": "erlang_broadcast_attack",
          "parent": "erlang_attack_costume",
          "inputs": {
            "MESSAGE": [1, [10, "看我三尖两刃刀！"]],
            "SECS": [1, [4, "0.5"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "erlang_broadcast_attack": {
          "opcode": "event_broadcast",
          "next": "erlang_wait_attack",
          "parent": "erlang_attack_say",
          "inputs": {
            "BROADCAST_INPUT": [1, [11, "二郎神攻击", "attack_erlang"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "erlang_wait_attack": {
          "opcode": "control_wait",
          "next": "erlang_reset_costume",
          "parent": "erlang_broadcast_attack",
          "inputs": {
            "DURATION": [1, [5, "0.3"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "erlang_reset_costume": {
          "opcode": "looks_switchcostumeto",
          "next": null,
          "parent": "erlang_wait_attack",
          "inputs": {
            "COSTUME": [1, [10, "二郎神-站立"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "erlang_receive_attack": {
          "opcode": "event_whenbroadcastreceived",
          "next": "erlang_hit_effect",
          "parent": null,
          "inputs": {},
          "fields": {
            "BROADCAST_OPTION": ["孙悟空攻击", "attack_sunwukong"]
          },
          "shadow": false,
          "topLevel": true,
          "x": 50,
          "y": 450
        },
        "erlang_hit_effect": {
          "opcode": "looks_changeeffectby",
          "next": "erlang_change_hp",
          "parent": "erlang_receive_attack",
          "inputs": {
            "CHANGE": [1, [4, "25"]]
          },
          "fields": {
            "EFFECT": ["COLOR", null]
          },
          "shadow": false,
          "topLevel": false
        },
        "erlang_change_hp": {
          "opcode": "data_changevariableby",
          "next": "erlang_wait_hit",
          "parent": "erlang_hit_effect",
          "inputs": {
            "VALUE": [1, [4, "-10"]]
          },
          "fields": {
            "VARIABLE": ["二郎神生命值", "erlang_hp"]
          },
          "shadow": false,
          "topLevel": false
        },
        "erlang_wait_hit": {
          "opcode": "control_wait",
          "next": "erlang_clear_effect",
          "parent": "erlang_change_hp",
          "inputs": {
            "DURATION": [1, [5, "0.2"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "erlang_clear_effect": {
          "opcode": "looks_cleargraphiceffects",
          "next": "erlang_check_hp",
          "parent": "erlang_wait_hit",
          "inputs": {},
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "erlang_check_hp": {
          "opcode": "control_if",
          "next": null,
          "parent": "erlang_clear_effect",
          "inputs": {
            "CONDITION": [2, "erlang_hp_lessthan"],
            "SUBSTACK": [2, "erlang_lose"]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "erlang_hp_lessthan": {
          "opcode": "operator_lt",
          "next": null,
          "parent": "erlang_check_hp",
          "inputs": {
            "OPERAND1": [3, "erlang_get_hp", [10, ""]],
            "OPERAND2": [1, [10, "1"]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        },
        "erlang_get_hp": {
          "opcode": "data_variable",
          "next": null,
          "parent": "erlang_hp_lessthan",
          "inputs": {},
          "fields": {
            "VARIABLE": ["二郎神生命值", "erlang_hp"]
          },
          "shadow": false,
          "topLevel": false
        },
        "erlang_lose": {
          "opcode": "data_setvariableto",
          "next": "erlang_set_winner",
          "parent": "erlang_check_hp",
          "inputs": {
            "VALUE": [1, [10, "ended"]]
          },
          "fields": {
            "VARIABLE": ["游戏状态", "game_state"]
          },
          "shadow": false,
          "topLevel": false
        },
        "erlang_set_winner": {
          "opcode": "data_setvariableto",
          "next": "erlang_say_lose",
          "parent": "erlang_lose",
          "inputs": {
            "VALUE": [1, [10, "孙悟空"]]
          },
          "fields": {
            "VARIABLE": ["获胜者", "winner"]
          },
          "shadow": false,
          "topLevel": false
        },
        "erlang_say_lose": {
          "opcode": "looks_say",
          "next": null,
          "parent": "erlang_set_winner",
          "inputs": {
            "MESSAGE": [1, [10, "好厉害！我输了..."]]
          },
          "fields": {},
          "shadow": false,
          "topLevel": false
        }
      },
      "comments": {},
      "currentCostume": 0,
      "costumes": [
        {
          "name": "二郎神-站立",
          "dataFormat": "svg",
          "assetId": "f9a1c175dbe2e5dee472858dd30d16bb",
          "md5ext": "f9a1c175dbe2e5dee472858dd30d16bb.svg",
          "rotationCenterX": 48,
          "rotationCenterY": 50
        },
        {
          "name": "二郎神-攻击",
          "dataFormat": "svg",
          "assetId": "6e8bd9ae68fdb02b7e1e3df656a75635",
          "md5ext": "6e8bd9ae68fdb02b7e1e3df656a75635.svg",
          "rotationCenterX": 48,
          "rotationCenterY": 50
        }
      ],
      "sounds": [],
      "volume": 100,
      "layerOrder": 2,
      "visible": true,
      "x": 120,
      "y": 0,
      "size": 80,
      "direction": -90,
      "draggable": false,
      "rotationStyle": "all around"
    }
  ],
  "monitors": [
    {
      "id": "sunwukong_hp",
      "mode": "default",
      "opcode": "data_variable",
      "params": {
        "VARIABLE": "孙悟空生命值"
      },
      "spriteName": null,
      "value": 100,
      "width": 0,
      "height": 0,
      "x": 5,
      "y": 5,
      "visible": true,
      "sliderMin": 0,
      "sliderMax": 100,
      "isDiscrete": true
    },
    {
      "id": "erlang_hp",
      "mode": "default",
      "opcode": "data_variable",
      "params": {
        "VARIABLE": "二郎神生命值"
      },
      "spriteName": null,
      "value": 100,
      "width": 0,
      "height": 0,
      "x": 5,
      "y": 32,
      "visible": true,
      "sliderMin": 0,
      "sliderMax": 100,
      "isDiscrete": true
    }
  ],
  "extensions": [],
  "meta": {
    "semver": "3.0.0",
    "vm": "0.2.0",
    "agent": ""
  }
}
